{% extends "base.html" %}

{% block title %}{{ noticia.titulo }} - Sports News{% endblock %}

{% block content %}
<div class="container-content">
  <div class="noticia-completa">
    <h2>{{ noticia.titulo }}</h2>

    {% if noticia.imagem %}
      <img src="{{ noticia.imagem.url }}" alt="Imagem da notícia" class="img-fluid mb-3">
    {% endif %}

    <p><strong>Categoria:</strong> {{ noticia.categoria|capfirst }}</p>
    <p><strong>Publicado em:</strong> {{ noticia.data_publicacao|date:"d/m/Y H:i" }}</p>

    <div class="descricao">
      {% for bloco in conteudos %}
        {% if bloco.tipo == 'texto' and bloco.texto %}
          <p>{{ bloco.texto|linebreaksbr }}</p>
        {% elif bloco.tipo == 'imagem' and bloco.imagem %}
          <img src="{{ bloco.imagem.url }}" alt="Imagem da notícia" class="img-fluid mb-3">
        {% elif bloco.tipo == 'video' and bloco.video_url %}
          <div class="video-container mb-3">
            <iframe width="560" height="315" src="{{ bloco.video_url }}" frameborder="0" allowfullscreen></iframe>
          </div>
        {% endif %}
      {% empty %}
        <p>{{ noticia.descricao|linebreaksbr }}</p>
      {% endfor %}
    </div>

    <a href="{% url 'categoria' noticia.categoria %}" class="btn btn-primary mt-3">Voltar à Categoria</a>
  </div>
</div>
{% endblock %}
